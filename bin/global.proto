syntax = "proto1";
package zte.cdb.ccc;

message GLOBAL_T {
	required uint32 mdbSize = 1; /* 库大小，单位 M*/
	required uint32 log_size = 2; /* 日志大小，单位M*/
	required uint32 sync_time = 3; /* 复制时间，单位 S */
	required uint32 auto_scale = 4; /* 自动弹缩，0 不弹，1：自动弹 */
	required uint32 db_alarm_thre = 5; /* 库满告警门限 */
	required uint32 scale_limit = 6;  /* 最小弹缩模块数，默认 2 */
	required uint32 sub_ntf_switch = 7;  /* False: 系统不支持订阅通知功能；True：系统支持订阅通知功能 */

	// 以下配置项过负荷功能使用
	optional uint32 overload_cdn_tps_limit = 8 [default = 100000];  // CDN单节点最大TPS，超过此TPS时，CDN拒绝处理CDAP请求
	optional uint32 overload_level1_cpu = 9 [default = 75];  // 当CPU使用率大于此门限值，进入过负荷一级处理
	optional uint32 overload_level2_cpu = 10 [default = 80];  // 当CPU使用率大于此门限值，进入过负荷二级处理
	optional uint32 overload_level3_cpu = 11 [default = 85];  // 当CPU使用率大于此门限值，进入过负荷三级处理
	optional uint32 overload_level4_cpu = 12 [default = 90];  // 当CPU使用率大于此门限值，进入过负荷四级处理
	optional uint32 overload_level5_cpu = 13 [default = 95];  // 当CPU使用率大于此门限值，进入过负荷五级处理
	optional uint32 overload_level1_high_rate = 14 [default = 100];  // 高优先级的消息在一级过负荷状态下的处理比例
	optional uint32 overload_level2_high_rate = 15 [default = 100];  // 高优先级的消息在二级过负荷状态下的处理比例
	optional uint32 overload_level3_high_rate = 16 [default = 75];  // 高优先级的消息在三级过负荷状态下的处理比例
	optional uint32 overload_level4_high_rate = 17 [default = 50];  // 高优先级的消息在四级过负荷状态下的处理比例
	optional uint32 overload_level5_high_rate = 18 [default = 0];  // 高优先级的消息在五级过负荷状态下的处理比例
	optional uint32 overload_level1_low_rate = 19 [default = 100];  // 低优先级的消息在一级过负荷状态下的处理比例
	optional uint32 overload_level2_low_rate = 20 [default = 75];  // 低优先级的消息在二级过负荷状态下的处理比例
	optional uint32 overload_level3_low_rate = 21 [default = 50];  // 低优先级的消息在三级过负荷状态下的处理比例
	optional uint32 overload_level4_low_rate = 22 [default = 25];  // 低优先级的消息在四级过负荷状态下的处理比例
	optional uint32 overload_level5_low_rate = 23 [default = 0];  // 低优先级的消息在五级过负荷状态下的处理比例
	optional uint32 query_trigger_delete = 24 [default = 0];  // 奥电补丁开关
}
